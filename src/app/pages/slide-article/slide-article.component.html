<div class="relative w-full overflow-hidden">
  <!-- Previous button -->
  <button
    type="button"
    class="absolute left-5 top-1/2 z-20 flex items-center justify-center rounded-full p-2 text-on-surface bg-surface/40 hover:bg-surface/60 focus:outline-2 focus:outline-offset-2 focus:outline-primary transform -translate-y-1/2"
    aria-label="previous slide"
    (click)="previous()"
  >
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="3" class="h-6 w-6" aria-hidden="true">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
    </svg>
  </button>

  <!-- Next button -->
  <button
    type="button"
    class="absolute right-5 top-1/2 z-20 flex items-center justify-center rounded-full p-2 text-on-surface bg-surface/40 hover:bg-surface/60 focus:outline-2 focus:outline-offset-2 focus:outline-primary transform -translate-y-1/2"
    aria-label="next slide"
    (click)="next()"
  >
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="3" class="h-6 w-6" aria-hidden="true">
      <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
    </svg>
  </button>

  <!-- Slides -->
  <div class="relative min-h-[50svh] w-full">
    <div
      *ngFor="let article of articles; let i = index"
      [ngClass]="{
        'absolute inset-0 transition-opacity duration-700 ease-in-out': true,
        'opacity-100 z-10': currentSlideIndex === i,
        'opacity-0 z-0': currentSlideIndex !== i
      }"
    >
      <div
        class="absolute inset-0 z-10 flex flex-col items-start justify-end gap-4 bg-gradient-to-t from-black/85 to-transparent px-8 py-12 text-left lg:px-32 lg:py-20"
      >
        <!-- Titre -->
        <h3 class="w-full lg:w-[80%] text-4xl lg:text-5xl font-extrabold text-white">
          {{ article.title }}
        </h3>

        <!-- Contenu -->
        <p class="w-full lg:w-1/2 text-base lg:text-lg text-white line-clamp-2">
          {{ article.content }}
        </p>

        <!-- Bouton Voir plus -->
        <a
          [routerLink]="['/article', article.id]"
          class="mt-4 rounded-radius border border-white bg-transparent px-5 py-2 text-sm lg:text-base font-semibold text-white transition-all duration-300 ease-in-out hover:bg-white hover:text-black hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white"
        >
          Voir plus
        </a>
      </div>

      <!-- Image -->
      <img
        class="absolute w-full h-full inset-0 object-cover"
        [src]="article.photo"
        [alt]="article.title"
      />
    </div>
  </div>

  <!-- Indicators -->
  <div class="absolute bottom-3 left-1/2 z-20 flex -translate-x-1/2 gap-3 px-2 py-1">
    <button
      *ngFor="let article of articles; let i = index"
      (click)="goToSlide(i)"
      class="w-3 h-3 rounded-full transition"
      [ngClass]="{
        'bg-neutral-300': currentSlideIndex === i,
        'bg-neutral-300/50': currentSlideIndex !== i
      }"
      aria-label="'article ' + (i + 1)"
    ></button>
  </div>
</div>
